<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eventos</title>
     <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/eventos.css">
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark navbar-custom">
    <div class="container">
      <a class="navbar-brand fw-bold" href="../html/Perfil.html">ðŸŽ® GameZone - Eventos</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navmenu" aria-controls="navmenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navmenu">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="../html/principalforo.html">Foros</a></li>
          <li class="nav-item"><a class="nav-link" href="../html/Noticias.html">Noticias</a></li>
          <li class="nav-item"><a class="nav-link active" href="#">Eventos</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Torneos</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- ðŸ”¥ Banner tipo carrusel gamer -->
  <section id="banner" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="../img_foros/feste.jpg" class="d-block w-100" alt="Gamers Fest El Salvador">
        <div class="carousel-caption d-none d-md-block">
          <h5>Gamers Fest El Salvador 2025</h5>
          <p>Centro Internacional de Ferias y Convenciones (CIFCO) â€¢ 14-16 de noviembre</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="../img_foros/Halo.jpg" class="d-block w-100" alt="Torneo Free Fire">
        <div class="carousel-caption d-none d-md-block">
          <h5>Torneo Nacional de Halo</h5>
          <p>Plaza Futura â€¢ 23 de noviembre â€¢ Premios hasta $2000</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="../img_foros/feria.jpeg" class="d-block w-100" alt="ExpoGaming CentroamÃ©rica">
        <div class="carousel-caption d-none d-md-block">
          <h5>ExpoGaming CentroamÃ©rica 2025</h5>
          <p>San Salvador Gaming Arena â€¢ 5-7 de diciembre</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="../img_foros/fc26.jpg" class="d-block w-100" alt="FIFA 25 Championship">
        <div class="carousel-caption d-none d-md-block">
          <h5>FIFA 25 Championship</h5>
          <p>Metrocentro San Salvador â€¢ 30 de noviembre</p>
        </div>
      </div>
    </div>

    <button class="carousel-control-prev" type="button" data-bs-target="#banner" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Anterior</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#banner" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Siguiente</span>
    </button>
  </section>

  <!-- Hero section -->
  <header class="hero py-5">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-8">
          <h1 class="display-6">Eventos & Encuentros</h1>
          <p class="lead">Encuentra prÃ³ximos torneos, quedadas y eventos en tu comunidad gamer. Filtra por fecha, juego o formato.</p>
        </div>
        <div class="col-md-4 text-md-end mt-3 mt-md-0">
          <button class="btn btn-outline-light me-2" data-bs-toggle="modal" data-bs-target="#createEventModal">Crear evento</button>
          <a class="btn btn-primary" href="#" id="subscribeBtn">Inscribirme</a>
        </div>
      </div>
    </div>
  </header>

  <main class="container py-5">
    <div id="eventsGrid" class="row g-4">
        <!-- Event card (repeatable) -->
        <div class="col-sm-6 col-lg-4">
          <article class="card event-card h-100">
            <img src="../img_foros/valorant.jpg" class="card-img-top" alt="Evento Valorant">
            <div class="card-body">
              <h5 class="card-title">Torneo Valorant - Ranked Night</h5>
              <p class="card-text small text-muted mb-2">Valorant â€¢ Online â€¢ 30 jugadores</p>
              <p class="card-text">Partidas clasificatorias por equipos. Premios y skins virtuales.</p>
            </div>
            <div class="card-footer d-flex justify-content-between align-items-center">
              <div>
                <strong>Fecha:</strong> 2025-11-02<br>
                <small class="text-muted">20:00 UTC-6</small>
              </div>
              <div>
                <button class="btn btn-sm btn-outline-light" data-bs-toggle="modal" data-bs-target="#eventModal" data-title="Torneo Valorant - Ranked Night" data-desc="Partidas clasificatorias por equipos. Premios y skins virtuales." data-date="2025-11-02" data-hora="20:00">Detalles</button>
              </div>
            </div>
          </article>
        </div>

        <div class="col-sm-6 col-lg-4">
          <article class="card event-card h-100">
            <img src="https://images.unsplash.com/photo-1511512578047-dfb367046420?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder" class="card-img-top" alt="Evento presencial">
            <div class="card-body">
              <h5 class="card-title">LAN Party - Ciudad Central</h5>
              <p class="card-text small text-muted mb-2">CS:GO â€¢ Presencial â€¢ 100 jugadores</p>
              <p class="card-text">Quedada local con computadoras y zona de streaming. Trae tu equipo.</p>
            </div>
            <div class="card-footer d-flex justify-content-between align-items-center">
              <div>
                <strong>Fecha:</strong> 2025-11-10<br>
                <small class="text-muted">10:00 - 22:00</small>
              </div>
              <div>
                <button class="btn btn-sm btn-outline-light" data-bs-toggle="modal" data-bs-target="#eventModal" data-title="LAN Party - Ciudad Central" data-desc="Quedada local con computadoras y zona de streaming. Trae tu equipo." data-date="2025-11-10" data-hora="10:00">Detalles</button>
              </div>
            </div>
          </article>
        </div>

        <div class="col-sm-6 col-lg-4">
          <article class="card event-card h-100">
            <img src="../img_foros/eventostardew.png" class="card-img-top" alt="Evento Stardew">
            <div class="card-body">
              <h5 class="card-title">Encuentro Stardew - Cooperativo</h5>
              <p class="card-text small text-muted mb-2">Stardew Valley â€¢ Online â€¢ 8 jugadores</p>
              <p class="card-text">Semana cooperativa: agricultura, pesca y eventos en comunidad.</p>
            </div>
            <div class="card-footer d-flex justify-content-between align-items-center">
              <div>
                <strong>Fecha:</strong> 2025-11-18<br>
                <small class="text-muted">18:00 UTC-6</small>
              </div>
              <div>
                <button class="btn btn-sm btn-outline-light" data-bs-toggle="modal" data-bs-target="#eventModal" data-title="Encuentro Stardew - Cooperativo" data-desc="Semana cooperativa: agricultura, pesca y eventos en comunidad." data-date="2025-11-18" data-hora="18:00">Detalles</button>
              </div>
            </div>
          </article>
        </div>

      </div>

      <!-- Pagination (optional) -->
      <div class="d-flex justify-content-center mt-5">
        <nav aria-label="Page navigation">
          <ul class="pagination pagination-dark">
            <li class="page-item"><a class="page-link" href="#">Anterior</a></li>
            <li class="page-item active"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">Siguiente</a></li>
          </ul>
        </nav>
      </div>
    </div>
  </main>

  <!-- Event details modal -->
  <div class="modal fade" id="eventModal" tabindex="-1" aria-labelledby="eventModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content modal-dark">
        <div class="modal-header border-0">
          <h5 class="modal-title" id="eventModalLabel">Detalles del evento</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p id="modalDesc"></p>
          <p class="mb-0"><strong>Fecha:</strong> <span id="modalDate"></span></p>
          <p><strong>Hora:</strong> <span id="modalTime"></span></p>
        </div>
        <div class="modal-footer border-0">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
          <button type="button" class="btn btn-primary" id="joinEventBtn">Unirme al evento</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Create event modal -->
  <div class="modal fade" id="createEventModal" tabindex="-1" aria-labelledby="createEventModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content modal-dark">
        <div class="modal-header border-0">
          <h5 class="modal-title" id="createEventModalLabel">Crear nuevo evento</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="createEventForm">
            <div class="mb-3">
              <label for="eventTitle" class="form-label">TÃ­tulo del evento</label>
              <input type="text" class="form-control" id="eventTitle" required>
            </div>
            <div class="mb-3">
              <label for="eventDesc" class="form-label">DescripciÃ³n</label>
              <textarea class="form-control" id="eventDesc" rows="3" required></textarea>
            </div>
            <div class="mb-3">
              <label for="eventDate" class="form-label">Fecha</label>
              <input type="date" class="form-control" id="eventDate" required>
            </div>
            <div class="mb-3">
              <label for="eventTime" class="form-label">Hora</label>
              <input type="time" class="form-control" id="eventTime" required>
            </div>
            <div class="mb-3">
              <label for="eventGame" class="form-label">Juego</label>
              <input type="text" class="form-control" id="eventGame" placeholder="Ej: Valorant, CS:GO">
            </div>
            <div class="mb-3">
              <label for="eventType" class="form-label">Tipo</label>
              <select class="form-select" id="eventType">
                <option value="online">Online</option>
                <option value="presencial">Presencial</option>
              </select>
            </div>
          </form>
        </div>
        <div class="modal-footer border-0">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-primary" id="submitCreateEvent">Crear evento</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast para notificaciones -->
  <div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="notificationToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <strong class="me-auto">GameHub</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body">
        Â¡SuscripciÃ³n activada! RecibirÃ¡s notificaciones de eventos.
      </div>
    </div>
    <div id="createEventToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <strong class="me-auto">GameHub</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body">
        Â¡Evento creado exitosamente! Ya aparece en la lista.
      </div>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

  <script>
    // Funcionalidad para el modal de detalles del evento (similar a "suscribirme" o unirse)
    document.addEventListener('DOMContentLoaded', function() {
      const eventModal = document.getElementById('eventModal');
      eventModal.addEventListener('show.bs.modal', function(event) {
        const button = event.relatedTarget;
        const title = button.getAttribute('data-title');
        const desc = button.getAttribute('data-desc');
        const date = button.getAttribute('data-date');
        const hora = button.getAttribute('data-hora');

        document.getElementById('eventModalLabel').textContent = title;
        document.getElementById('modalDesc').textContent = desc;
        document.getElementById('modalDate').textContent = date;
        document.getElementById('modalTime').textContent = hora;
      });

      // BotÃ³n "Unirme al evento" (ejemplo de funcionalidad: alerta simple, puedes conectar a backend)
      document.getElementById('joinEventBtn').addEventListener('click', function() {
        alert('Â¡Te has unido al evento!'); // Placeholder para suscripciÃ³n real
        const modal = bootstrap.Modal.getInstance(eventModal);
        modal.hide();
      });

      // BotÃ³n "Inscribirme" en hero (muestra toast en lugar de alert)
      document.getElementById('subscribeBtn').addEventListener('click', function(e) {
        e.preventDefault();
        const toastEl = document.getElementById('notificationToast');
        const toast = new bootstrap.Toast(toastEl);
        toast.show();
      });

      // Funcionalidad para el modal de crear evento (igual de funcional que el de detalles/unirse)
      const createEventModal = document.getElementById('createEventModal');
      const createForm = document.getElementById('createEventForm');
      const submitBtn = document.getElementById('submitCreateEvent');

      submitBtn.addEventListener('click', function() {
        if (createForm.checkValidity()) {
          // Recopilar datos del formulario
          const formData = {
            title: document.getElementById('eventTitle').value,
            desc: document.getElementById('eventDesc').value,
            date: document.getElementById('eventDate').value,
            time: document.getElementById('eventTime').value,
            game: document.getElementById('eventGame').value || 'General',
            type: document.getElementById('eventType').value
          };

          // Crear nueva card HTML
          const placeholderImage = 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3'; // Imagen placeholder genÃ©rica
          const players = Math.floor(Math.random() * 50) + 1; // NÃºmero aleatorio de jugadores
          const newCard = `
            <div class="col-sm-6 col-lg-4">
              <article class="card event-card h-100">
                <img src="${placeholderImage}" class="card-img-top" alt="${formData.title}">
                <div class="card-body">
                  <h5 class="card-title">${formData.title}</h5>
                  <p class="card-text small text-muted mb-2">${formData.game} â€¢ ${formData.type.charAt(0).toUpperCase() + formData.type.slice(1)} â€¢ ${players} jugadores</p>
                  <p class="card-text">${formData.desc}</p>
                </div>
                <div class="card-footer d-flex justify-content-between align-items-center">
                  <div>
                    <strong>Fecha:</strong> ${formData.date}<br>
                    <small class="text-muted">${formData.time} UTC-6</small>
                  </div>
                  <div>
                    <button class="btn btn-sm btn-outline-light" data-bs-toggle="modal" data-bs-target="#eventModal" data-title="${formData.title}" data-desc="${formData.desc}" data-date="${formData.date}" data-hora="${formData.time}">Detalles</button>
                  </div>
                </div>
              </article>
            </div>
          `;

          // Insertar la nueva card al inicio del grid
          document.getElementById('eventsGrid').insertAdjacentHTML('afterbegin', newCard);

          // Mostrar toast de Ã©xito
          const createToastEl = document.getElementById('createEventToast');
          const createToast = new bootstrap.Toast(createToastEl);
          createToast.show();

          // Cerrar modal y resetear formulario
          const modal = bootstrap.Modal.getInstance(createEventModal);
          modal.hide();
          createForm.reset();
        } else {
          createForm.reportValidity();
        }
      });
    });
  </script>
</body>
</html>